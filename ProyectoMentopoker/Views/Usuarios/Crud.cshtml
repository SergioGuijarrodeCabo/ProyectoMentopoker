@using System.Security.Claims;
@model IEnumerable<ProyectoMentopoker.Models.UsuarioModel>

@{
    ViewData["Title"] = "Crud";
}

<!doctype html>
<html lang="en">
<head>

    <!-- Bootstrap core CSS -->
    <link href="~/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/css/NavBar.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="~/css/navbar-top-fixed.css" rel="stylesheet">

</head>

<body>


    <style>





        .container {
            background-color: transparent !important;
        }

            .container > div {
                background-color: #212529 !important;
                padding: 50px !important;
            }
           
    </style>
       @if
                         (@Context.User.FindFirst(ClaimTypes.Role)?.Value == "admin")
    {

    <div class="container" >
        <div>

<h1>Crud</h1>

<p>
               
                <a class="nav-link text-white" asp-area="" asp-controller="Usuarios" asp-action="Insert"><button class="btn btn-info">Insertar nuevo usuario</button></a>
</p>
            <table class="table table-dark table-hover " style="padding:50px;">
    <thead>
        <tr>
            <th >
                @Html.DisplayNameFor(model => model.Email)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Pass)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Rol)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Nombre)
            </th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Email)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Pass)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Rol)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Nombre)
            </td>
            <td>

                                <a class="nav-link text-white d-inline mr-3"  asp-area="" asp-controller="Usuarios" asp-action="Update" asp-route-usuario_id="@item.Usuario_id"><button class="btn btn-info">Actualizar</button></a>
                                <a class="nav-link text-white d-inline"  asp-area="" asp-controller="Usuarios" asp-action="Delete" asp-route-usuario_id="@item.Usuario_id"><button class="btn btn-info">Borrar</button></a>
         
            </td>
        </tr>
}
    </tbody>
</table>

    </div>
    </div>

    }
    else
    {

        <h1>No tienes permisos para acceder a esta funcionalidad</h1>
    }

</body>
</html>